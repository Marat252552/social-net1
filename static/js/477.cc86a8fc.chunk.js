"use strict";(self.webpackChunkfirst_project=self.webpackChunkfirst_project||[]).push([[477],{8477:function(e,t,s){s.r(t),s.d(t,{default:function(){return R}});var r=s(5671),n=s(3144),i=s(136),o=s(2882),a=s(2791),d=s(5558),u=s(1413),l="Profile_profile__xRvzH",c="Profile_addPhotoButton__WUAva",h="Profile_hidden__db1dg",p="Profile_Summary__H1UhW",f="Profile_comments__4l5Wj",m="newcom_Newcom__7qhWQ",x=s(9406),j=s(6139),g=s(704),P=s(6386),v=s(184),_=P.D.MaxLength(10),S=(0,g.Z)({form:"post"})((function(e){return(0,v.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,v.jsx)(j.Z,{component:P.I.Textarea,name:"post",placeholder:"Enter your post",validate:[_,P.D.fieldRequired]}),(0,v.jsx)("button",{children:"Create post"})]})})),N=function(e){return(0,v.jsx)(S,{onSubmit:function(t){e.addPost(t.post)}})},Z=function(e){return(0,v.jsxs)("div",{className:m,children:[(0,v.jsx)("div",{children:(0,v.jsx)("img",{src:e.profilePage.mainInfo.photos.large?e.profilePage.mainInfo.photos.large:x})}),(0,v.jsx)("div",{children:(0,v.jsx)(N,{addPost:e.addPost})})]})},k=s(8687),I=(s(8583),a.createRef("statusField")),w="No status",y=function(e){(0,i.Z)(s,e);var t=(0,o.Z)(s);function s(){var e;(0,r.Z)(this,s);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={editMode:!1,currentStatusField:e.props.status},e.changeCurrentStatus=function(t){e.setState((0,u.Z)((0,u.Z)({},e.state),{},{currentStatusField:t}))},e.activateEditMode=function(){e.setState((0,u.Z)((0,u.Z)({},e.state),{},{editMode:!0}))},e.deActivateEditMode=function(t){e.setState((0,u.Z)((0,u.Z)({},e.state),{},{editMode:!1})),e.props.PutStatusThunk(t)},e}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){if(void 0===this.props.GetStatusThunkAC)return null;this.props.GetStatusThunkAC(26279)}},{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState((0,u.Z)((0,u.Z)({},this.state),{},{currentStatusField:this.props.status}))}},{key:"render",value:function(){var e=this;return!1===this.state.editMode?(0,v.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status?this.props.status:w}):(0,v.jsx)("textarea",{autoFocus:!0,ref:I,onBlur:function(){e.deActivateEditMode(e.state.currentStatusField)},onChange:function(){e.changeCurrentStatus(I.current.value)},value:this.state.currentStatusField})}}]),s}(a.Component),C=(0,k.$j)((function(e){return{status:e.profilePage.status}}),{updateStatusField:d.rd,setStatus:d.Tf,GetStatusThunkAC:d.EU,PutStatusThunk:d.oM})(y),A="wall_gridwall__NF+2L",M="wall_icon__7g6WB",T="wall_friends__nMuJg",F=function(e){return(0,v.jsxs)("div",{children:[(0,v.jsx)("img",{className:M,src:e.src}),(0,v.jsx)("span",{children:e.person})]})},b=function(e){return(0,v.jsx)(F,{src:e.src,person:e.person})},D=function(e){var t=e.profilePage.friends.map((function(e){return(0,v.jsx)(b,{src:e.src,person:e.person})}));return(0,v.jsxs)("div",{className:A,children:[(0,v.jsx)("h1",{children:"Online"}),(0,v.jsx)("h2",{children:e.profilePage.mainInfo.fullName}),(0,v.jsx)("p",{children:"About me"}),(0,v.jsx)("p",{children:e.profilePage.mainInfo.aboutMe}),(0,v.jsx)(C,{}),(0,v.jsx)("h2",{children:"My friends"}),(0,v.jsx)("div",{className:T,children:t})]})},E={photo:"oldcom_photo__0EqxD",Oldcom:"oldcom_Oldcom__PAfn1"},q=function(e){(0,i.Z)(s,e);var t=(0,o.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"render",value:function(){return console.log("rendered"),(0,v.jsxs)("div",{className:E.Oldcom,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("img",{className:E.photo,src:this.props.src}),(0,v.jsx)("span",{children:"2"}),(0,v.jsx)("button",{children:"like"})]}),(0,v.jsxs)("div",{className:E.Textfield,children:[(0,v.jsx)("span",{children:(0,v.jsx)("strong",{children:this.props.person})}),(0,v.jsx)("p",{children:this.props.text})]})]})}}]),s}(a.PureComponent),z=function(e){return e.commentsData.map((function(e){return(0,v.jsx)(q,{text:e.text,person:e.person,src:e.src?e.src:x})}))},G=function(e){var t=function(e){return(0,v.jsxs)("div",{children:[(0,v.jsx)("input",(0,u.Z)({type:"file",name:"uploadfile",id:"img",className:h},e)),(0,v.jsx)("label",{for:"img",className:c,children:"Add new photo"})]})};return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:l,children:[(0,v.jsxs)("div",{className:p,children:[(0,v.jsx)("img",{src:e.profilePage.mainInfo.photos.large?e.profilePage.mainInfo.photos.large:x}),e.userId===e.myId?(0,v.jsx)(t,{large:e.profilePage.mainInfo.photos.large,onChange:function(t){if(t.target.files.length){var s=t.target.files[0];e.SaveNewPhotoThunk(s)}}}):void 0,(0,v.jsx)("a",{href:"",children:"Friends: 0"}),(0,v.jsx)("a",{href:"",children:"Notes: 0"}),(0,v.jsx)("a",{href:"",children:"Groups: 0"}),(0,v.jsx)("a",{href:"",children:"Gifts: 0"})]}),(0,v.jsx)("div",{children:(0,v.jsx)(D,{profilePage:e.profilePage})})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{children:"Comments"}),(0,v.jsx)(Z,{profilePage:e.profilePage,addPost:e.addPost,updateNewPostField:e.updateNewPostField}),(0,v.jsx)("div",{className:f,children:(0,v.jsx)(z,{commentsData:e.profilePage.commentsData})})]})]})},W=s(6544),O=s(8779),U=s(7781),B=s(7828),L=function(e){(0,i.Z)(s,e);var t=(0,o.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){this.props.ProfilePageThunkAC(this.props.router)}},{key:"render",value:function(){return(0,v.jsx)("div",{children:!0===this.props.profilePage.isLoading?(0,v.jsx)(W.Z,{}):(0,v.jsx)(G,{profilePage:this.props.profilePage,updateNewPostField:this.props.updateNewPostField,addPost:this.props.addPost,isAuthorized:this.props.isAuthorized,userId:this.props.userId,myId:this.props.myId,SaveNewPhotoThunk:this.props.SaveNewPhotoThunk})})}}]),s}(a.Component),R=(0,U.qC)(O.E,O.D,(0,k.$j)((function(e){return{profilePage:B.d.getProfilePage(e),isAuthorized:B.d.getIsAuthorized(e),userId:e.profilePage.mainInfo.userId,myId:e.authPage.data.id}}),{addPost:d.q2,ProfilePageThunkAC:d.hr,SaveNewPhotoThunk:d.TP}))(L)}}]);
//# sourceMappingURL=477.cc86a8fc.chunk.js.map