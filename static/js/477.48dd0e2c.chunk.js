"use strict";(self.webpackChunkfirst_project=self.webpackChunkfirst_project||[]).push([[477],{8477:function(e,t,s){s.r(t),s.d(t,{default:function(){return B}});var r=s(5671),n=s(3144),i=s(136),o=s(2882),a=s(2791),u=s(5558),d="Profile_profile__FWBJT",c="Profile_Summary__Mibic",l="Profile_comments__hncJb",p="newcom_Newcom__l5jvd",h=s(9406),f=s(6139),x=s(704),j=s(6386),m=s(184),P=j.D.MaxLength(10),g=(0,x.Z)({form:"post"})((function(e){return(0,m.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,m.jsx)(f.Z,{component:j.I.Textarea,name:"post",placeholder:"Enter your post",validate:[P,j.D.fieldRequired]}),(0,m.jsx)("button",{children:"Create post"})]})})),v=function(e){return(0,m.jsx)(g,{onSubmit:function(t){e.addPost(t.post)}})},_=function(e){return(0,m.jsxs)("div",{className:p,children:[(0,m.jsx)("div",{children:(0,m.jsx)("img",{src:e.profilePage.mainInfo.photos.large?e.profilePage.mainInfo.photos.large:h})}),(0,m.jsx)("div",{children:(0,m.jsx)(v,{addPost:e.addPost})})]})},S=s(1413),Z=s(8687),k=(s(8583),a.createRef("statusField")),C="No status",N=function(e){(0,i.Z)(s,e);var t=(0,o.Z)(s);function s(){var e;(0,r.Z)(this,s);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={editMode:!1,currentStatusField:e.props.status},e.changeCurrentStatus=function(t){e.setState((0,S.Z)((0,S.Z)({},e.state),{},{currentStatusField:t}))},e.activateEditMode=function(){e.setState((0,S.Z)((0,S.Z)({},e.state),{},{editMode:!0}))},e.deActivateEditMode=function(t){e.setState((0,S.Z)((0,S.Z)({},e.state),{},{editMode:!1})),e.props.PutStatusThunk(t)},e}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){if(void 0===this.props.GetStatusThunkAC)return null;this.props.GetStatusThunkAC(26279)}},{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState((0,S.Z)((0,S.Z)({},this.state),{},{currentStatusField:this.props.status}))}},{key:"render",value:function(){var e=this;return!1===this.state.editMode?(0,m.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status?this.props.status:C}):(0,m.jsx)("textarea",{autoFocus:!0,ref:k,onBlur:function(){e.deActivateEditMode(e.state.currentStatusField)},onChange:function(){e.changeCurrentStatus(k.current.value)},value:this.state.currentStatusField})}}]),s}(a.Component),M=(0,Z.$j)((function(e){return{status:e.profilePage.status}}),{updateStatusField:u.rd,setStatus:u.Tf,GetStatusThunkAC:u.EU,PutStatusThunk:u.oM})(N),y="wall_gridwall__R8KPX",A="wall_icon__h7EYS",F="wall_friends__A3kRx",w=function(e){return(0,m.jsxs)("div",{children:[(0,m.jsx)("img",{className:A,src:e.src}),(0,m.jsx)("span",{children:e.person})]})},b=function(e){return(0,m.jsx)(w,{src:e.src,person:e.person})},T=function(e){var t=e.profilePage.friends.map((function(e){return(0,m.jsx)(b,{src:e.src,person:e.person})}));return(0,m.jsxs)("div",{className:y,children:[(0,m.jsx)("h1",{children:"Online"}),(0,m.jsx)("h2",{children:e.profilePage.mainInfo.fullName}),(0,m.jsx)("p",{children:"About me"}),(0,m.jsx)("p",{children:e.profilePage.mainInfo.aboutMe}),(0,m.jsx)(M,{}),(0,m.jsx)("h2",{children:"My friends"}),(0,m.jsx)("div",{className:F,children:t})]})},D={photo:"oldcom_photo__Cnhgy",Oldcom:"oldcom_Oldcom__zMlUX"},E=function(e){(0,i.Z)(s,e);var t=(0,o.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"render",value:function(){return console.log("rendered"),(0,m.jsxs)("div",{className:D.Oldcom,children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("img",{className:D.photo,src:this.props.src}),(0,m.jsx)("span",{children:"2"}),(0,m.jsx)("button",{children:"like"})]}),(0,m.jsxs)("div",{className:D.Textfield,children:[(0,m.jsx)("span",{children:(0,m.jsx)("strong",{children:this.props.person})}),(0,m.jsx)("p",{children:this.props.text})]})]})}}]),s}(a.PureComponent),I=function(e){return e.commentsData.map((function(e){return(0,m.jsx)(E,{text:e.text,person:e.person,src:e.src?e.src:h})}))},z=function(e){return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:d,children:[(0,m.jsxs)("div",{className:c,children:[(0,m.jsx)("img",{src:e.profilePage.mainInfo.photos.large?e.profilePage.mainInfo.photos.large:h}),(0,m.jsx)("a",{href:"",children:"Friends: 0"}),(0,m.jsx)("a",{href:"",children:"Notes: 0"}),(0,m.jsx)("a",{href:"",children:"Groups: 0"}),(0,m.jsx)("a",{href:"",children:"Gifts: 0"})]}),(0,m.jsx)("div",{children:(0,m.jsx)(T,{profilePage:e.profilePage})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{children:"Comments"}),(0,m.jsx)(_,{profilePage:e.profilePage,addPost:e.addPost,updateNewPostField:e.updateNewPostField}),(0,m.jsx)("div",{className:l,children:(0,m.jsx)(I,{commentsData:e.profilePage.commentsData})})]})]})},G=s(6544),O=s(8779),R=s(7781),q=s(7828),U=function(e){(0,i.Z)(s,e);var t=(0,o.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){this.props.ProfilePageThunkAC(this.props.router)}},{key:"render",value:function(){return(0,m.jsx)("div",{children:!0===this.props.profilePage.isLoading?(0,m.jsx)(G.Z,{}):(0,m.jsx)(z,{profilePage:this.props.profilePage,updateNewPostField:this.props.updateNewPostField,addPost:this.props.addPost,isAuthorized:this.props.isAuthorized})})}}]),s}(a.Component),B=(0,R.qC)(O.E,O.D,(0,Z.$j)((function(e){return{profilePage:q.d.getProfilePage(e),isAuthorized:q.d.getIsAuthorized(e)}}),{addPost:u.q2,ProfilePageThunkAC:u.hr}))(U)}}]);
//# sourceMappingURL=477.48dd0e2c.chunk.js.map